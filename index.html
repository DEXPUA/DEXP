<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HEX Key Puzzle Solver</title>
    <script src="https://cdn.jsdelivr.net/npm/bitcoinjs-lib@5.1.9/dist/bitcoinjs-lib.min.js"></script>
</head>
<body>
    <h1>HEX Key Puzzle Solver</h1>
    <p id="status">Status: Waiting...</p>
    <button onclick="startBruteForce()">Start Brute Force</button>

    <script>
        // Цільова P2PKH-адреса
        const targetAddress = "19vkiEajfhuZ8bs8Zu2jgmC6oqZbWqhxhG";

        // Діапазон ключів
        const startKey = BigInt("0x0000000000000000000000000000000000000000000000100000000000000000");
        const stopKey = BigInt("0x00000000000000000000000000000000000000000000001fffffffffffffffff");

        // Функція для генерування адреси з приватного ключа
        function privateKeyToAddress(privateKeyHex) {
            const privateKeyBuffer = Buffer.from(privateKeyHex, 'hex');
            const keyPair = bitcoinjs-lib.ECPair.fromPrivateKey(privateKeyBuffer);
            const { address } = bitcoinjs-lib.payments.p2pkh({ pubkey: keyPair.publicKey });
            return address;
        }

        // Асинхронна функція для перебору ключів
        async function startBruteForce() {
            const statusElement = document.getElementById("status");
            statusElement.textContent = "Status: Brute-forcing...";

            for (let key = startKey; key <= stopKey; key++) {
                const hexKey = key.toString(16).padStart(64, "0"); // Конвертуємо в hex

                // Генерація адреси з приватного ключа
                const address = privateKeyToAddress(hexKey);

                // Перевірка, чи це цільова адреса
                if (address === targetAddress) {
                    statusElement.textContent = `Status: Key found! ${hexKey}`;
                    console.log(`Key found: ${hexKey}`);
                    return;
                }

                // Оновлення статусу для запобігання зависанню браузера
                if (key % 100000n === 0n) {
                    await new Promise(resolve => setTimeout(resolve, 0));
                    statusElement.textContent = `Status: Checked ${key.toString(16)}`;
                }
            }

            statusElement.textContent = "Status: Key not found in range.";
        }
    </script>
</body>
</html>
